{"ast":null,"code":"var _jsxFileName = \"/Users/nickjohnson/sei-june-bugs/Project3/P2P-SportsBook/p2p-wagers/src/BetContainer/index.js\";\nimport React, { Component } from 'react';\nimport CreateBet from '../CreateBet';\nimport BetList from '../BetList';\n\nclass BetContainer extends Component {\n  constructor() {\n    super();\n\n    this.getBets = async () => {\n      try {\n        const response = await fetch('http://localhost:9000/bets');\n\n        if (response.status !== 200) {\n          throw Error(response.statusText);\n        }\n\n        const betsParsed = await response.json();\n        this.setState({\n          bets: betsParsed.data\n        });\n      } catch (err) {}\n    };\n\n    this.addBet = async (bet, e) => {\n      e.preventDefault();\n      console.log(bet);\n\n      try {\n        const createdBet = await fetch('http://localhost:9000/bets', {\n          method: 'POST',\n          body: JSON.stringify(bet),\n          headers: {\n            'Content-type': 'application/json'\n          }\n        });\n        const parsedResponse = await createdBet.json();\n        this.setState({\n          bets: [...this.state.bets, parsedResponse.data]\n        });\n        console.log(parsedResponse.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.deleteBet = async (id, e) => {\n      console.log(id, 'this is id');\n      e.preventDefault();\n\n      try {\n        const deleteBet = await fetch('http://localhost:9000/bets' + id, {\n          method: 'DELETE'\n        });\n        console.log('trying to delete');\n        const deleteBetJson = await deleteBet.json();\n        this.setState({\n          bets: this.state.bets.filter((bet, i) => bet._id !== id)\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.state = {\n      bets: [],\n      betToEdit: {\n        _id: null,\n        game: '',\n        action: '',\n        odds: ''\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getBets();\n  }\n\n  render() {\n    console.log(this.state, \"<---- state object\");\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(CreateBet, {\n      addBet: this.addBet,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(BetList, {\n      bets: this.state.bets,\n      deleteBet: this.deleteBet,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default BetContainer;","map":{"version":3,"sources":["/Users/nickjohnson/sei-june-bugs/Project3/P2P-SportsBook/p2p-wagers/src/BetContainer/index.js"],"names":["React","Component","CreateBet","BetList","BetContainer","constructor","getBets","response","fetch","status","Error","statusText","betsParsed","json","setState","bets","data","err","addBet","bet","e","preventDefault","console","log","createdBet","method","body","JSON","stringify","headers","parsedResponse","state","deleteBet","id","deleteBetJson","filter","i","_id","betToEdit","game","action","odds","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport CreateBet from '../CreateBet';\nimport BetList from '../BetList';\n\nclass BetContainer extends Component {\n\tconstructor(){\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\tbets: [],\n\t\t\tbetToEdit: {\n\t\t\t\t_id: null,\n\t\t\t\tgame: '',\n\t\t\t\taction: '',\n\t\t\t\todds: ''\n\t\t\t},\n\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t\tthis.getBets();\n\t};\n\tgetBets = async () => {\n\t\ttry{\n\t\t\tconst response = await fetch('http://localhost:9000/bets');\n\t\t\tif(response.status !== 200){\n\t\t\t\tthrow Error(response.statusText);\n\t\t\t}\n\t\t\tconst betsParsed = await response.json();\n\t\t\tthis.setState({bets: betsParsed.data})\n\t\t}\tcatch(err){}\n\t}\n\n\taddBet = async (bet, e) =>{\n\t\te.preventDefault();\n\t\tconsole.log(bet);\n\n\ttry {\n\t\tconst createdBet = await fetch('http://localhost:9000/bets', {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(bet),\n\t\t\theaders: {\n\t\t\t\t'Content-type': 'application/json'\n\t\t\t}\n\t\t});\n\t\tconst parsedResponse = await createdBet.json();\n\t\tthis.setState({\n\t\t\tbets: [...this.state.bets, parsedResponse.data]})\n\t\tconsole.log(parsedResponse.data);\n\n\t} catch(err){\n\t\tconsole.log(err)\n\t}\n\t}\n\tdeleteBet = async (id, e) =>{\n\t\tconsole.log(id, 'this is id');\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tconst deleteBet = await fetch('http://localhost:9000/bets' +id, {\n\t\t\t\tmethod: 'DELETE'\n\t\t\t});\n\t\t\tconsole.log('trying to delete');\n\t\t\tconst deleteBetJson = await deleteBet.json();\n\t\t\tthis.setState({bets: this.state.bets.filter((bet, i)=> bet._id !== id)});\n\n\t\t} catch(err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n  render(){\n    console.log(this.state, \"<---- state object\")\n    return (\n      <div>\n        <CreateBet addBet={this.addBet} />\n        <BetList bets={this.state.bets} deleteBet={this.deleteBet}/>\n      </div>\n      )\n  }\t\n\n\n}\n\n\n\n\n\n\nexport default BetContainer;\n\n\n"]},"metadata":{},"sourceType":"module"}