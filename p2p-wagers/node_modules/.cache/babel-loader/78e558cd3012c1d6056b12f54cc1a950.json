{"ast":null,"code":"import _objectSpread from \"/Users/nickjohnson/sei-june-bugs/Project3/P2P-SportsBook/P2P-BackEnd/p2p-wagers/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/nickjohnson/sei-june-bugs/Project3/P2P-SportsBook/P2P-BackEnd/p2p-wagers/src/BetContainer/index.js\";\nimport React, { Component } from 'react';\nimport CreateBet from '../CreateBet';\nimport BetList from '../BetList';\nimport EditBet from '../EditBet';\n\nclass BetContainer extends Component {\n  constructor() {\n    super();\n\n    this.getBets = async () => {\n      try {\n        const response = await fetch('http://localhost:9000/bets');\n\n        if (response.status !== 200) {\n          throw Error(response.statusText);\n        }\n\n        const betsParsed = await response.json();\n        this.setState({\n          bets: betsParsed.data\n        });\n      } catch (err) {}\n    };\n\n    this.addBet = async (bet, e) => {\n      e.preventDefault();\n      console.log(bet);\n\n      try {\n        const createdBet = await fetch('http://localhost:9000/bets', {\n          method: 'POST',\n          body: JSON.stringify(bet),\n          headers: {\n            'Content-type': 'application/json'\n          }\n        });\n        const parsedResponse = await createdBet.json();\n        this.setState({\n          bets: [...this.state.bets, parsedResponse.data]\n        });\n        console.log(parsedResponse.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.closeAndEdit = async e => {\n      e.preventDefault();\n\n      try {\n        const editResponse = await fetch('http://localhost:9000/bets/' + this.state.betToEdit._id, {\n          method: 'PUT',\n          credentials: 'include',\n          body: JSON.stringify(this.state.betToEdit),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const parsedResponse = await editResponse.json();\n        const editedBetArray = this.state.bets.map(bet => {\n          if (bet._id === this.state.betToEdit._id) {\n            bet = parsedResponse.data;\n          }\n\n          return bet;\n        });\n        this.setState({\n          bets: editedBetArray,\n          modalShowing: false\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.handleFormChange = e => {\n      this.setState({\n        betToEdit: _objectSpread({}, this.state.betToEdit, {\n          [e.target.name]: e.target.value\n        })\n      });\n    };\n\n    this.showModal = bet => {\n      console.log(bet, '<-- in showModal');\n      this.setState({\n        modalShowing: true,\n        betToEdit: bet\n      });\n    };\n\n    this.deleteBet = async (id, e) => {\n      console.log(id, 'this is id');\n      e.preventDefault();\n\n      try {\n        const deleteBet = await fetch('http://localhost:9000/bets/' + id, {\n          method: 'DELETE'\n        });\n        console.log('trying to delete');\n        const deleteBetJson = await deleteBet.json();\n        this.setState({\n          bets: this.state.bets.filter((bet, i) => bet._id !== id)\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.state = {\n      bets: [],\n      betToEdit: {\n        _id: null,\n        game: '',\n        action: '',\n        odds: '',\n        accepted: false\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getBets();\n  }\n\n  render() {\n    console.log(this.state, \"<---- state object\");\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(CreateBet, {\n      addBet: this.addBet,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(BetList, {\n      bets: this.state.bets,\n      showModal: this.showModal,\n      deleteBet: this.deleteBet,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), this.state.modalShowing ? React.createElement(EditBet, {\n      betToEdit: this.state.betToEdit,\n      closeAndEdit: this.closeAndEdit,\n      handleFormChange: this.handleFormChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default BetContainer;","map":{"version":3,"sources":["/Users/nickjohnson/sei-june-bugs/Project3/P2P-SportsBook/P2P-BackEnd/p2p-wagers/src/BetContainer/index.js"],"names":["React","Component","CreateBet","BetList","EditBet","BetContainer","constructor","getBets","response","fetch","status","Error","statusText","betsParsed","json","setState","bets","data","err","addBet","bet","e","preventDefault","console","log","createdBet","method","body","JSON","stringify","headers","parsedResponse","state","closeAndEdit","editResponse","betToEdit","_id","credentials","editedBetArray","map","modalShowing","handleFormChange","target","name","value","showModal","deleteBet","id","deleteBetJson","filter","i","game","action","odds","accepted","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport CreateBet from '../CreateBet';\nimport BetList from '../BetList';\nimport EditBet from '../EditBet';\n\nclass BetContainer extends Component {\n\tconstructor(){\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\tbets: [],\n\t\t\tbetToEdit: {\n\t\t\t\t_id: null,\n\t\t\t\tgame: '',\n\t\t\t\taction: '',\n\t\t\t\todds: '',\n\t\t\t\taccepted: false\n\t\t\t},\n\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t\tthis.getBets();\n\t};\n\tgetBets = async () => {\n\t\ttry{\n\t\t\tconst response = await fetch('http://localhost:9000/bets');\n\t\t\tif(response.status !== 200){\n\t\t\t\tthrow Error(response.statusText);\n\t\t\t}\n\t\t\tconst betsParsed = await response.json();\n\t\t\tthis.setState({bets: betsParsed.data})\n\t\t}\tcatch(err){}\n\t}\n\n\taddBet = async (bet, e) =>{\n\t\te.preventDefault();\n\t\tconsole.log(bet);\n\n\ttry {\n\t\tconst createdBet = await fetch('http://localhost:9000/bets', {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(bet),\n\t\t\theaders: {\n\t\t\t\t'Content-type': 'application/json'\n\t\t\t}\n\t\t});\n\t\tconst parsedResponse = await createdBet.json();\n\t\tthis.setState({\n\t\t\tbets: [...this.state.bets, parsedResponse.data]})\n\t\tconsole.log(parsedResponse.data);\n\n\t} catch(err){\n\t\tconsole.log(err)\n\t}\n\t}\n\n\n\n\n\n\ncloseAndEdit = async (e) =>{\n\t\te.preventDefault();\n\n\t\ttry {\n\n      const editResponse = await fetch('http://localhost:9000/bets/' + this.state.betToEdit._id, {\n        method: 'PUT',\n        credentials: 'include',\n        body: JSON.stringify(this.state.betToEdit),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n\n\n      const parsedResponse = await editResponse.json();\n\n\n      const editedBetArray = this.state.bets.map((bet) => {\n        if(bet._id === this.state.betToEdit._id){\n            bet = parsedResponse.data;\n        }\n        return bet\n      });\n      this.setState({\n        bets: editedBetArray,\n        modalShowing: false\n      });\n\n    }catch(err){\n      console.log(err);\n    }\n  }\n  handleFormChange = (e) => {\n    this.setState({\n      betToEdit: {\n        ...this.state.betToEdit,\n        [e.target.name]: e.target.value\n      }\n    })\n  }\n  showModal = (bet) => {\n    console.log(bet, '<-- in showModal')\n    this.setState({\n      modalShowing: true,\n      betToEdit: bet\n    });\n  }\n\n\n\n\n\n\n\n\n\n\tdeleteBet = async (id, e) =>{\n\t\tconsole.log(id, 'this is id');\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tconst deleteBet = await fetch('http://localhost:9000/bets/' +id, {\n\t\t\t\tmethod: 'DELETE'\n\t\t\t});\n\t\t\tconsole.log('trying to delete');\n\t\t\tconst deleteBetJson = await deleteBet.json();\n\t\t\tthis.setState({bets: this.state.bets.filter((bet, i)=> bet._id !== id)});\n\n\t\t} catch(err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n  render(){\n    console.log(this.state, \"<---- state object\")\n    return (\n      <div>\n        <CreateBet addBet={this.addBet} />\n        <BetList bets={this.state.bets} showModal={this.showModal} deleteBet={this.deleteBet}/>\n        {this.state.modalShowing ? <EditBet betToEdit={this.state.betToEdit} closeAndEdit={this.closeAndEdit} handleFormChange={this.handleFormChange}/> : null}\n      </div>\n      )\n  }\t\n\n\n}\n\n\n\n\n\n\nexport default BetContainer;\n\n\n"]},"metadata":{},"sourceType":"module"}